(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(4),a=n.n(i),s=(n(10),n(2)),o=(n(11),n(12),n(13),n(5)),h=n.n(o),l=(n(15),n(0)),j=function(e){var t=e.searchQuery,n=e.setSearchQuery;return Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"header-search",children:Object(l.jsx)("span",{className:"visually-hidden",children:"Search Events"})}),Object(l.jsx)("input",{className:"input",value:t,onInput:function(e){return n(e.target.value)},type:"text",id:"header-search",placeholder:"Filter",name:"s"})]})};var d=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],i=window.location.search,a=new URLSearchParams(i).get("s"),o=Object(c.useState)(a||""),d=Object(s.a)(o,2),u=d[0],b=d[1],O=Object(c.useState)([]),f=Object(s.a)(O,2),x=f[0],v=f[1],p=Object(c.useState)([]),m=Object(s.a)(p,2),_=m[0],S=m[1],g="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,"/event");function E(e,t){for(var n in t){if("string"===typeof t[n])if(t[n].toLowerCase().includes(e))return!0}return!1}function N(e,t){v(t?e.filter((function(e){var n=t.toLowerCase().split(" "),c=[];for(var r in n)c.push(E(n[r],e));return c.reduce((function(e,t){return e&&t}))})):e)}function C(e){var t=new Date(e);return h()(t).format("YYYY-MM-DD HH:mm")}return Object(c.useEffect)((function(){console.log(g),fetch(g).then((function(e){if(!e.ok)throw Error("No access to database");return e.json()})).then((function(e){return r(e),console.log(e),e})).then((function(e){N(e,a)})),fetch(g+"/careRecipient").then((function(e){if(!e.ok)throw Error("No access to database");return e.json()})).then((function(e){S(e)})),console.log(x)}),[]),Object(c.useEffect)((function(){N(n,u)}),[u]),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"header",children:[Object(l.jsxs)("div",{className:"header-container",children:[Object(l.jsx)("label",{className:"header-element",children:"Choose a care recipient:"}),Object(l.jsx)("select",{className:"header-element",name:"careRecipient",onChange:function(e){b(e.target.value)},children:_.map((function(e){return Object(l.jsx)("option",{value:e.care_recipient_id,children:e.care_recipient_id})}))})]}),Object(l.jsxs)("div",{className:"header-container",children:[Object(l.jsx)("label",{className:"header-element",children:"Or filter manualy on any field:"}),Object(l.jsx)(j,{className:"eheader-lement",searchQuery:u,setSearchQuery:b})]})]}),Object(l.jsx)("div",{children:Object(l.jsxs)("table",{className:"content-table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Time"}),Object(l.jsx)("th",{children:"Event Type"}),Object(l.jsx)("th",{children:"Visit"}),Object(l.jsx)("th",{children:"Care Recipient"}),Object(l.jsx)("th",{children:"Caregiver"}),Object(l.jsx)("th",{children:"Notes"})]})}),Object(l.jsx)("tbody",{children:x.map((function(e){return function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:C(e.timestamp)}),Object(l.jsx)("th",{children:(t=e.event_type,t.split("_").join(" "))}),Object(l.jsx)("th",{children:e.visit_id}),Object(l.jsx)("th",{children:e.care_recipient_id}),Object(l.jsx)("th",{children:e.caregiver_id}),Object(l.jsx)("th",{children:e.payload.note})]},e.id);var t}(e)}))})]})})]})},u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(d,{})}),document.getElementById("root")),u()}],[[17,1,2]]]);
//# sourceMappingURL=main.6f5e7e7a.chunk.js.map